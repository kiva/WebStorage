/**
 * webstorage - v0.1.0 
 * Copyright (c) 2014 Kiva Microfunds
 * 
 * Licensed under the MIT license.
 * http://github.com/kiva/webstorage/license.txt
 */
define(function(){"use strict";function a(a){if("undefined"==typeof a&&(a="localStorage"),"localStorage"!=a&&"sessionStorage"!=a)throw new Error("Unsupported store given in webStorage");if(!window.localStorage||!window.sessionStorage)throw new Error("Unsupported Browser");"localStorage"==a&&(this.store=window.localStorage),"sessionStorage"==a&&(this.store=window.sessionStorage)}return a.prototype={set:function(a,b){var c=JSON.stringify(b);c=btoa(c),this.store.setItem(a,c)},get:function(a){var b=this.store.getItem(a);if(null===b)return null;var c=atob(b);return JSON.parse(c)},rm:function(a){this.store.removeItem(a)},flush:function(){this.store.clear()},getAll:function(){var a={};for(var b in this.store)a[b]=this.get(b);return a}},a});